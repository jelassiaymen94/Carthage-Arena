{% extends 'base.html.twig' %}

{% block title %}Mes Tournois - Carthage Arena{% endblock %}

{% block body %}
    <div
      id="mainContent"
      class="flex h-screen w-full opacity-0 transition-opacity duration-500"
    >
      <!-- Sidebar -->
      {% embed 'components/_sidebar.html.twig' %}
        {% block sidebar_bottom %}
        <div class="relative overflow-hidden rounded-2xl bg-gradient-to-br from-gray-900 to-black p-4 border border-white/10">
          <div class="absolute -right-6 -top-6 h-24 w-24 rounded-full bg-secondary/20 blur-2xl"></div>
          <div class="relative z-10 flex flex-col gap-3">
            <div class="flex items-center justify-between">
              <p class="text-[10px] font-bold uppercase tracking-widest text-secondary">
                Prochain Tournoi
              </p>
              <span class="material-symbols-outlined text-secondary text-sm">event</span>
            </div>
            <div>
              <h4 class="text-sm font-bold text-white">Carthage Championship</h4>
              <p class="text-xs text-gray-400 mt-1">
                Inscriptions ouvertes
              </p>
            </div>
          </div>
        </div>
        {% endblock %}
      {% endembed %}

      <!-- Main Content -->
      <main
        class="flex flex-1 flex-col overflow-y-auto bg-background-dark relative"
      >
        <!-- Header -->
        <header
          class="sticky top-0 z-50 flex h-20 items-center justify-between border-b border-white/5 bg-background-dark/80 backdrop-blur-md px-8 py-4"
        >
          <div class="flex flex-col">
            <h2 class="text-2xl font-bold text-white">Mes Tournois</h2>
            <p class="text-xs text-gray-400">G&eacute;rez vos inscriptions et d&eacute;couvrez de nouveaux tournois.</p>
          </div>
          {% include 'components/_header_user_pill.html.twig' %}
        </header>

        <div class="flex flex-col gap-8 p-8 max-w-7xl mx-auto w-full">
          <!-- Filter Tabs -->
          <div class="flex flex-wrap items-center gap-3">
            <button class="rounded-full bg-primary px-5 py-2 text-sm font-bold text-white shadow-lg shadow-red-900/30">
              Tous les Tournois
            </button>
            <button class="rounded-full bg-white/5 border border-white/10 px-5 py-2 text-sm font-medium text-gray-400 hover:bg-white/10 hover:text-white transition-all">
              Mes Inscriptions
            </button>
            <button class="rounded-full bg-white/5 border border-white/10 px-5 py-2 text-sm font-medium text-gray-400 hover:bg-white/10 hover:text-white transition-all">
              Termin&eacute;s
            </button>
          </div>

          <!-- Tournament Cards Grid -->
          {% set tournaments = [
            {
              'name': 'Carthage Championship Season 1',
              'game': 'League of Legends',
              'status': 'OUVERT',
              'prize': '10,000 DT',
              'teams': '12/16',
              'date': '24 Oct 2025, 20:00',
              'format': 'BO3',
              'image': 'https://images.unsplash.com/photo-1542751371-adc38448a05e?w=600&h=300&fit=crop'
            },
            {
              'name': 'Valorant Tournament Pro',
              'game': 'Valorant',
              'status': 'EN COURS',
              'prize': '5,000 DT',
              'teams': '8/8',
              'date': '21 Oct 2025, 18:00',
              'format': 'BO5',
              'image': 'https://images.unsplash.com/photo-1538481199705-c710c4e965fc?w=600&h=300&fit=crop'
            },
            {
              'name': 'CS2 Masters Cup',
              'game': 'CS2',
              'status': 'BIENTOT',
              'prize': '15,000 DT',
              'teams': '4/16',
              'date': '5 Nov 2025, 14:00',
              'format': 'BO3',
              'image': 'https://images.unsplash.com/photo-1511512578047-dfb367046420?w=600&h=300&fit=crop'
            },
            {
              'name': 'Rocket League Arena',
              'game': 'Rocket League',
              'status': 'OUVERT',
              'prize': '3,000 DT',
              'teams': '10/12',
              'date': '28 Oct 2025, 16:00',
              'format': 'BO5',
              'image': 'https://images.unsplash.com/photo-1493711662062-fa541adb3fc8?w=600&h=300&fit=crop'
            },
            {
              'name': 'Overwatch 2 Open',
              'game': 'Overwatch 2',
              'status': 'OUVERT',
              'prize': '7,500 DT',
              'teams': '6/16',
              'date': '1 Nov 2025, 19:00',
              'format': 'BO3',
              'image': 'https://images.unsplash.com/photo-1560419015-7c427e8ae5ba?w=600&h=300&fit=crop'
            },
            {
              'name': 'Apex Legends Showdown',
              'game': 'Apex Legends',
              'status': 'TERMINE',
              'prize': '8,000 DT',
              'teams': '20/20',
              'date': '15 Oct 2025, 15:00',
              'format': 'Battle Royale',
              'image': 'https://images.unsplash.com/photo-1552820728-8b83bb6b2b28?w=600&h=300&fit=crop'
            }
          ] %}

          <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
            {% for tournament in tournaments %}
            <div class="group relative overflow-hidden rounded-2xl bg-surface-dark border border-white/5 transition-all hover:border-primary/30 hover:shadow-[0_0_30px_rgba(230,0,19,0.1)] hover:-translate-y-1">
              <!-- Image -->
              <div class="relative h-44 overflow-hidden">
                <div
                  class="absolute inset-0 bg-cover bg-center transition-transform duration-500 group-hover:scale-110"
                  style="background-image: url('{{ tournament.image }}');"
                ></div>
                <div class="absolute inset-0 bg-gradient-to-t from-surface-dark via-transparent to-transparent"></div>
                <!-- Status Badge -->
                <div class="absolute top-4 left-4">
                  <span class="rounded-full px-3 py-1 text-[10px] font-bold uppercase tracking-wider
                    {% if tournament.status == 'OUVERT' %}
                      bg-green-500/20 text-green-400 border border-green-500/30
                    {% elseif tournament.status == 'EN COURS' %}
                      bg-primary/20 text-primary border border-primary/30
                    {% elseif tournament.status == 'TERMINE' %}
                      bg-gray-500/20 text-gray-400 border border-gray-500/30
                    {% else %}
                      bg-secondary/20 text-secondary border border-secondary/30
                    {% endif %}
                  ">
                    {% if tournament.status == 'EN COURS' %}
                      <span class="inline-block w-1.5 h-1.5 rounded-full bg-primary mr-1 animate-pulse"></span>
                    {% endif %}
                    {{ tournament.status }}
                  </span>
                </div>
                <!-- Game Badge -->
                <div class="absolute top-4 right-4">
                  <span class="rounded-full bg-black/60 backdrop-blur-sm px-3 py-1 text-[10px] font-bold uppercase tracking-wider text-white border border-white/10">
                    {{ tournament.game }}
                  </span>
                </div>
              </div>
              <!-- Content -->
              <div class="p-5 flex flex-col gap-4">
                <div>
                  <h3 class="text-lg font-bold text-white group-hover:text-primary transition-colors mb-2">
                    {{ tournament.name }}
                  </h3>
                  <div class="flex flex-wrap items-center gap-4 text-xs text-gray-400">
                    <span class="flex items-center gap-1">
                      <span class="material-symbols-outlined text-[14px]">calendar_today</span>
                      {{ tournament.date }}
                    </span>
                    <span class="flex items-center gap-1">
                      <span class="material-symbols-outlined text-[14px]">groups</span>
                      {{ tournament.teams }}
                    </span>
                    <span class="flex items-center gap-1">
                      <span class="material-symbols-outlined text-[14px]">sports_esports</span>
                      {{ tournament.format }}
                    </span>
                  </div>
                </div>
                <!-- Footer -->
                <div class="flex items-center justify-between pt-3 border-t border-white/5">
                  <div>
                    <p class="text-[10px] uppercase text-gray-500 font-bold tracking-wider">Prize Pool</p>
                    <p class="text-lg font-black text-secondary">{{ tournament.prize }}</p>
                  </div>
                  <a
                    href="#"
                    class="rounded-full bg-white/5 border border-white/10 px-5 py-2 text-sm font-bold text-gray-300 hover:bg-primary hover:border-primary hover:text-white transition-all flex items-center gap-2"
                  >
                    Voir D&eacute;tails
                    <span class="material-symbols-outlined text-[16px]">arrow_forward</span>
                  </a>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>

        <!-- Mobile Bottom Nav -->
        <div
          class="lg:hidden fixed bottom-0 w-full bg-[#161616] border-t border-white/10 px-6 py-3 flex justify-between items-center z-50"
          role="navigation"
          aria-label="Navigation mobile"
        >
          <a class="flex flex-col items-center gap-1 text-gray-500" href="{{ path('app_dashboard') }}">
            <span class="material-symbols-outlined">home</span>
            <span class="text-[10px]">Accueil</span>
          </a>
          <a class="flex flex-col items-center gap-1 text-primary" href="{{ path('app_tournaments') }}">
            <span class="material-symbols-outlined">trophy</span>
            <span class="text-[10px]">Tournois</span>
          </a>
          <a class="flex flex-col items-center gap-1 text-gray-500" href="{{ path('app_shop') }}">
            <span class="material-symbols-outlined">shopping_bag</span>
            <span class="text-[10px]">Boutique</span>
          </a>
          <a class="flex flex-col items-center gap-1 text-gray-500" href="{{ path('app_profile') }}">
            <span class="material-symbols-outlined">person</span>
            <span class="text-[10px]">Profil</span>
          </a>
        </div>
      </main>
    </div>
{% endblock %}
